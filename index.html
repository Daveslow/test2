<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patagonia & Chicago Flight Map</title>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #e67e22; 
            --arg-blue: #74b9ff; 
            --chile-red: #e74c3c; 
            --light: #ecf0f1;
            --text: #34495e;
            --bg: #ffffff;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: var(--text);
            margin: 0;
            padding: 0;
            background-color: var(--bg);
            scroll-behavior: smooth;
        }

        header {
            background: linear-gradient(135deg, var(--primary), #34495e);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
        }
        header h1 { margin: 0; }
        header p { opacity: 0.8; }

        nav {
            background: #fff;
            position: sticky;
            top: 0;
            z-index: 1000;
            display: flex;
            justify-content: center;
            padding: 1rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        nav a {
            margin: 0 15px;
            text-decoration: none;
            color: var(--primary);
            font-weight: 600;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* === MAP STYLES === */
        #map {
            height: 650px;
            width: 100%;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            margin-bottom: 3rem;
        }

        /* ITINERARY STYLES */
        .timeline-item {
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-left: 4px solid #ddd;
            background: white;
            border-radius: 0 8px 8px 0;
            transition: all 0.3s ease;
        }
        
        .timeline-item.active {
            border-left-color: var(--accent);
            background-color: #fff8e1;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .tag {
            display: inline-block;
            background: #eee;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-right: 5px;
            font-weight: bold;
        }

        h2 { border-bottom: 2px solid var(--accent); display: inline-block; padding-bottom: 5px; }

    </style>
</head>
<body>

<header>
    <h1>The Full Journey</h1>
    <p>Chicago ✈️ Buenos Aires ⛰️ Patagonia ✈️ Chicago</p>
</header>

<nav>
    <a href="#map">Interactive Map</a>
    <a href="#itinerary">Itinerary Details</a>
</nav>

<div class="container">
    
    <section>
        <h2>Route Visualization</h2>
        <p>Zoom out to see the flight paths to/from North America.</p>
        <div id="map"></div>
    </section>

    <section id="itinerary">
        <h2>Detailed Itinerary</h2>

        <div id="day0" class="timeline-item">
            <h3>Day 0: Departure</h3>
            <span class="tag">Flight</span>
            <p>Fly from <strong>Chicago (ORD)</strong> to Buenos Aires (EZE). Overnight flight.</p>
        </div>

        <div id="day1" class="timeline-item">
            <h3>Days 1-3: Buenos Aires</h3>
            <span class="tag">City</span>
            <p>Land in EZE. Stay in Palermo. Explore San Telmo and La Boca. Fly to El Calafate on Day 3.</p>
        </div>

        <div id="day3" class="timeline-item">
            <h3>Day 3: Arrival in Patagonia</h3>
            <span class="tag">Transit</span>
            <p>Land at FTE Airport. Pick up rental car. Drive Route 40 to El Chaltén.</p>
        </div>

        <div id="day4" class="timeline-item">
            <h3>Day 4: Fitz Roy (El Chaltén)</h3>
            <span class="tag">Hiking</span>
            <p>The big hike: Laguna de los Tres. 20km round trip to the base of Mt Fitz Roy.</p>
        </div>

        <div id="day5" class="timeline-item">
            <h3>Day 5: The Choice</h3>
            <span class="tag" style="background:orange; color:white;">Climbing</span>
            <p>Climb <strong>Paredón de los Cóndores</strong> (Multi-pitch) or relax at Lago del Desierto.</p>
        </div>

        <div id="day6" class="timeline-item">
            <h3>Day 6: The Crossing</h3>
            <span class="tag">Border</span>
            <p>Drive back to Calafate. See Perito Moreno Glacier. Bus to Puerto Natales, Chile.</p>
        </div>

        <div id="day7" class="timeline-item">
            <h3>Days 7-12: The W Trek</h3>
            <span class="tag" style="background:red; color:white;">Trek</span>
            <p>5 Days hiking Torres del Paine. The Towers, French Valley, and Grey Glacier.</p>
        </div>

        <div id="day13" class="timeline-item">
            <h3>Day 13: Departure</h3>
            <span class="tag">Flight</span>
            <p>Fly Puerto Natales -> Santiago (Connect) -> <strong>Chicago (ORD)</strong>.</p>
        </div>
    </section>
</div>

<script>
    function initMap() {
        // Center map to show South America initially
        const center = { lat: -40.0, lng: -70.0 };
        
        const map = new google.maps.Map(document.getElementById("map"), {
            zoom: 3, // Zoomed out slightly to show context
            center: center,
            mapId: "DEMO_MAP_ID",
        });

        // === DATA: LOCATIONS ===
        const locations = [
            { id: "day0", title: "Chicago (ORD)", lat: 41.9742, lng: -87.9073, type: "home", desc: "Start/End: O'Hare Intl Airport" },
            { id: "day1", title: "Buenos Aires", lat: -34.6037, lng: -58.3816, type: "city", desc: "Start: Steak & Tango" },
            { id: "day3", title: "El Calafate", lat: -50.3379, lng: -72.2648, type: "city", desc: "Arr: Gateway to Glaciers" },
            { id: "day4", title: "El Chaltén", lat: -49.3305, lng: -72.8817, type: "hike", desc: "Hike: Fitz Roy Base" },
            { id: "day5", title: "Climbing Wall", lat: -49.3250, lng: -72.8900, type: "climb", desc: "Climb: Paredón de los Cóndores" },
            { id: "day6", title: "Perito Moreno", lat: -50.4690, lng: -73.0299, type: "ice", desc: "Visit: Massive Glacier" },
            { id: "day7", title: "Puerto Natales", lat: -51.7267, lng: -72.5068, type: "city", desc: "Base: W Trek Prep" },
            { id: "day7", title: "Torres del Paine", lat: -50.9423, lng: -72.9368, type: "trek", desc: "The W Trek: 5 Days" },
            { id: "day13", title: "Santiago (SCL)", lat: -33.3898, lng: -70.7945, type: "city", desc: "Layover: Connection Home" }
        ];

        // === MARKER ICONS ===
        const icons = {
            home: "http://maps.google.com/mapfiles/kml/shapes/airports.png",
            city: "http://maps.google.com/mapfiles/ms/icons/blue-dot.png",
            hike: "http://maps.google.com/mapfiles/ms/icons/green-dot.png",
            climb: "http://maps.google.com/mapfiles/ms/icons/orange-dot.png",
            trek: "http://maps.google.com/mapfiles/ms/icons/red-dot.png",
            ice: "http://maps.google.com/mapfiles/ms/icons/purple-dot.png"
        };

        const infoWindow = new google.maps.InfoWindow();

        // Create Markers
        locations.forEach(loc => {
            const marker = new google.maps.Marker({
                position: { lat: loc.lat, lng: loc.lng },
                map: map,
                title: loc.title,
                icon: icons[loc.type] || icons.city
            });

            marker.addListener("click", () => {
                infoWindow.setContent(`<strong>${loc.title}</strong><br>${loc.desc}`);
                infoWindow.open(map, marker);
                
                const element = document.getElementById(loc.id);
                if(element) {
                    document.querySelectorAll('.timeline-item').forEach(e => e.classList.remove('active'));
                    element.classList.add('active');
                    element.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            });
        });

        // === PATHS (POLYLINES) ===
        
        // 0. FLIGHT: Chicago (ORD) -> Buenos Aires (EZE)
        const flightDown = [
            { lat: 41.9742, lng: -87.9073 }, // ORD
            { lat: -34.6037, lng: -58.3816 } // BA
        ];
        new google.maps.Polyline({
            path: flightDown,
            geodesic: true, // Curves the line for accuracy
            strokeColor: "#3498db",
            strokeOpacity: 0.5,
            strokeWeight: 2,
            icons: [{ icon: { path: 'M 0,-1 0,1', strokeOpacity: 1, scale: 2 }, offset: '0', repeat: '20px' }],
            map: map
        });

        // 1. FLIGHT: BA -> Calafate
        const flightInternal = [
            { lat: -34.6037, lng: -58.3816 }, 
            { lat: -50.3379, lng: -72.2648 }  
        ];
        new google.maps.Polyline({
            path: flightInternal,
            geodesic: true,
            strokeColor: "#3498db",
            strokeOpacity: 0.8,
            strokeWeight: 2,
            icons: [{ icon: { path: 'M 0,-1 0,1', strokeOpacity: 1, scale: 2 }, offset: '0', repeat: '20px' }],
            map: map
        });

        // 2. Drive: Calafate -> Chaltén
        const drivePath = [
            { lat: -50.3379, lng: -72.2648 },
            { lat: -49.3305, lng: -72.8817 } 
        ];
        new google.maps.Polyline({
            path: drivePath,
            geodesic: true,
            strokeColor: "#2c3e50",
            strokeWeight: 4,
            map: map
        });

        // 3. Drive/Bus: Chaltén -> Calafate -> Natales
        const busPath = [
            { lat: -49.3305, lng: -72.8817 },
            { lat: -50.3379, lng: -72.2648 },
            { lat: -51.7267, lng: -72.5068 }
        ];
        new google.maps.Polyline({
            path: busPath,
            geodesic: true,
            strokeColor: "#2c3e50",
            strokeOpacity: 0.8,
            strokeWeight: 4,
            map: map
        });

        // 4. Trek: W Trek Loop
        const trekPath = [
            { lat: -50.9423, lng: -72.9368 },
            { lat: -50.963, lng: -73.000 },
            { lat: -51.0, lng: -73.13 }
        ];
        new google.maps.Polyline({
            path: trekPath,
            geodesic: true,
            strokeColor: "#e74c3c",
            strokeWeight: 5,
            map: map
        });

        // 5. FLIGHT: Natales -> Santiago
        const flightExit = [
            { lat: -51.7267, lng: -72.5068 },
            { lat: -33.3898, lng: -70.7945 } // SCL
        ];
        new google.maps.Polyline({
            path: flightExit,
            geodesic: true,
            strokeColor: "#3498db",
            strokeOpacity: 0.8,
            strokeWeight: 2,
            icons: [{ icon: { path: 'M 0,-1 0,1', strokeOpacity: 1, scale: 2 }, offset: '0', repeat: '20px' }],
            map: map
        });

        // 6. FLIGHT: Santiago -> Chicago
        const flightHome = [
            { lat: -33.3898, lng: -70.7945 }, // SCL
            { lat: 41.9742, lng: -87.9073 }   // ORD
        ];
        new google.maps.Polyline({
            path: flightHome,
            geodesic: true,
            strokeColor: "#3498db",
            strokeOpacity: 0.5,
            strokeWeight: 2,
            icons: [{ icon: { path: 'M 0,-1 0,1', strokeOpacity: 1, scale: 2 }, offset: '0', repeat: '20px' }],
            map: map
        });
    }
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBBoC7oF2OJAhD6zReYhykQzlarc7xOJVY&callback=initMap&v=weekly" async defer></script>

</body>
</html>