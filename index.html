<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patagonia Reverse: Chile First</title>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #e67e22; 
            --arg-blue: #74b9ff; 
            --chile-red: #e74c3c; 
            --light: #ecf0f1;
            --text: #34495e;
            --bg: #ffffff;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: var(--text);
            margin: 0;
            padding: 0;
            background-color: var(--bg);
            scroll-behavior: smooth;
        }

        header {
            background: linear-gradient(135deg, var(--chile-red), #c0392b); /* Chile Red Theme */
            color: white;
            padding: 3rem 2rem;
            text-align: center;
        }
        header h1 { margin: 0; }
        header p { opacity: 0.9; font-size: 1.1rem; }

        nav {
            background: #fff;
            position: sticky;
            top: 0;
            z-index: 1000;
            display: flex;
            justify-content: center;
            padding: 1rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        nav a {
            margin: 0 15px;
            text-decoration: none;
            color: var(--primary);
            font-weight: 600;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* === MAP STYLES === */
        #map {
            height: 650px;
            width: 100%;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            margin-bottom: 3rem;
        }

        /* ITINERARY STYLES */
        .timeline-item {
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-left: 4px solid #ddd;
            background: white;
            border-radius: 0 8px 8px 0;
            transition: all 0.3s ease;
        }
        
        .timeline-item.active {
            border-left-color: var(--chile-red);
            background-color: #fff5f5;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        /* Differentiate Argentina items */
        .timeline-item[data-country="arg"].active {
            border-left-color: var(--arg-blue);
            background-color: #f0f8ff;
        }

        .tag {
            display: inline-block;
            background: #eee;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-right: 5px;
            font-weight: bold;
        }

        h2 { border-bottom: 2px solid var(--primary); display: inline-block; padding-bottom: 5px; }

    </style>
</head>
<body>

<header>
    <h1>The "Trek First" Route</h1>
    <p>Chicago ‚úàÔ∏è Santiago ‚õ∞Ô∏è W Trek üöó Road Trip üç∑ Buenos Aires ‚úàÔ∏è Chicago</p>
</header>

<nav>
    <a href="#map">Interactive Map</a>
    <a href="#itinerary">Day-by-Day Details</a>
</nav>

<div class="container">
    
    <section>
        <h2>Route Visualization</h2>
        <p>Zoom out to see the connections to North America.</p>
        <div id="map"></div>
    </section>

    <section id="itinerary">
        <h2>Detailed Itinerary</h2>

        <div id="day0" class="timeline-item">
            <h3>Day 0: The Long Haul</h3>
            <span class="tag">Flight</span>
            <p>Fly <strong>Chicago (ORD)</strong> to Santiago (SCL). Overnight flight.</p>
        </div>

        <div id="day1" class="timeline-item" data-country="chi">
            <h3>Day 1: Arrival in Chile</h3>
            <span class="tag">Transit</span>
            <p>Land in Santiago (AM). Connect to Puerto Natales (PNT). <br><em>Tip: If direct PNT flight is sold out, fly to Punta Arenas + Bus.</em></p>
        </div>

        <div id="day2" class="timeline-item" data-country="chi">
            <h3>Days 2-6: The W Trek</h3>
            <span class="tag" style="background:var(--chile-red); color:white;">Trek</span>
            <p><strong>The Main Event:</strong> 5 Days backpacking Torres del Paine.
            <br>‚Ä¢ The Towers (Las Torres)
            <br>‚Ä¢ French Valley
            <br>‚Ä¢ Glacier Grey</p>
        </div>

        <div id="day7" class="timeline-item" data-country="arg">
            <h3>Day 7: Border Crossing & Road Trip</h3>
            <span class="tag">Bus/Drive</span>
            <p>Bus from Natales to El Calafate (Argentina). Pick up rental car. Drive to <strong>El Chalt√©n</strong>.</p>
        </div>

        <div id="day8" class="timeline-item" data-country="arg">
            <h3>Day 8: Fitz Roy</h3>
            <span class="tag">Hike</span>
            <p>Hike Laguna de los Tres. Enjoy the comfort of a hotel bed after the trek.</p>
        </div>

        <div id="day9" class="timeline-item" data-country="arg">
            <h3>Day 9: Climbing Option</h3>
            <span class="tag" style="background:orange; color:white;">Climb</span>
            <p>Multi-pitch climbing at <strong>Pared√≥n de los C√≥ndores</strong> or chill at Lago del Desierto.</p>
        </div>

        <div id="day10" class="timeline-item" data-country="arg">
            <h3>Day 10: Glaciers to City</h3>
            <span class="tag">Ice/Flight</span>
            <p>Drive to Calafate. Visit <strong>Perito Moreno Glacier</strong>. Drop car. Fly Calafate (FTE) -> <strong>Buenos Aires (AEP)</strong>.</p>
        </div>

        <div id="day11" class="timeline-item" data-country="arg">
            <h3>Days 11-12: Buenos Aires</h3>
            <span class="tag" style="background:var(--arg-blue); color:white;">Relax</span>
            <p>Recovery time. Steak at <em>Don Julio</em>. Tango in San Telmo. Late night flight home on Day 12.</p>
        </div>

        <div id="day13" class="timeline-item">
            <h3>Day 13: Home</h3>
            <span class="tag">Flight</span>
            <p>Arrive Chicago (ORD) in the morning.</p>
        </div>
    </section>
</div>

<script>
    function initMap() {
        const center = { lat: -40.0, lng: -70.0 };
        
        const map = new google.maps.Map(document.getElementById("map"), {
            zoom: 3, 
            center: center,
            mapId: "DEMO_MAP_ID",
        });

        // === DATA: LOCATIONS ===
        const locations = [
            { id: "day0", title: "Chicago (ORD)", lat: 41.9742, lng: -87.9073, type: "home", desc: "Start/End" },
            { id: "day1", title: "Santiago (SCL)", lat: -33.3898, lng: -70.7945, type: "city", desc: "Connection Hub" },
            { id: "day1", title: "Puerto Natales", lat: -51.7267, lng: -72.5068, type: "city", desc: "Start: W Trek" },
            { id: "day2", title: "Torres del Paine", lat: -50.9423, lng: -72.9368, type: "trek", desc: "5 Days Hiking" },
            { id: "day7", title: "El Calafate", lat: -50.3379, lng: -72.2648, type: "city", desc: "Border Crossing / Car Rental" },
            { id: "day8", title: "El Chalt√©n", lat: -49.3305, lng: -72.8817, type: "hike", desc: "Fitz Roy & Climbing" },
            { id: "day10", title: "Perito Moreno", lat: -50.4690, lng: -73.0299, type: "ice", desc: "Glacier Visit" },
            { id: "day11", title: "Buenos Aires", lat: -34.6037, lng: -58.3816, type: "city", desc: "End: Relax & Food" }
        ];

        // === ICONS ===
        const icons = {
            home: "http://maps.google.com/mapfiles/kml/shapes/airports.png",
            city: "http://maps.google.com/mapfiles/ms/icons/blue-dot.png",
            hike: "http://maps.google.com/mapfiles/ms/icons/green-dot.png",
            trek: "http://maps.google.com/mapfiles/ms/icons/red-dot.png",
            ice: "http://maps.google.com/mapfiles/ms/icons/purple-dot.png"
        };

        const infoWindow = new google.maps.InfoWindow();

        locations.forEach(loc => {
            const marker = new google.maps.Marker({
                position: { lat: loc.lat, lng: loc.lng },
                map: map,
                title: loc.title,
                icon: icons[loc.type] || icons.city
            });

            marker.addListener("click", () => {
                infoWindow.setContent(`<strong>${loc.title}</strong><br>${loc.desc}`);
                infoWindow.open(map, marker);
                
                const element = document.getElementById(loc.id);
                if(element) {
                    document.querySelectorAll('.timeline-item').forEach(e => e.classList.remove('active'));
                    element.classList.add('active');
                    element.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            });
        });

        // === PATHS (REVERSED FLOW) ===
        
        // 1. FLIGHT: ORD -> SCL
        const flightDown = [
            { lat: 41.9742, lng: -87.9073 }, 
            { lat: -33.3898, lng: -70.7945 } 
        ];
        new google.maps.Polyline({
            path: flightDown,
            geodesic: true,
            strokeColor: "#e74c3c", // Red for "Down to Chile"
            strokeOpacity: 0.6,
            strokeWeight: 2,
            icons: [{ icon: { path: 'M 0,-1 0,1', strokeOpacity: 1, scale: 2 }, offset: '0', repeat: '20px' }],
            map: map
        });

        // 2. FLIGHT: SCL -> Natales
        const flightChile = [
            { lat: -33.3898, lng: -70.7945 },
            { lat: -51.7267, lng: -72.5068 } 
        ];
        new google.maps.Polyline({
            path: flightChile,
            geodesic: true,
            strokeColor: "#e74c3c", 
            strokeOpacity: 0.8,
            strokeWeight: 2,
            icons: [{ icon: { path: 'M 0,-1 0,1', strokeOpacity: 1, scale: 2 }, offset: '0', repeat: '20px' }],
            map: map
        });

        // 3. TREK: W Trek Loop
        const trekPath = [
            { lat: -51.7267, lng: -72.5068 },
            { lat: -50.9423, lng: -72.9368 },
            { lat: -51.0, lng: -73.13 }
        ];
        new google.maps.Polyline({
            path: trekPath,
            geodesic: true,
            strokeColor: "#e74c3c",
            strokeWeight: 5,
            map: map
        });

        // 4. BUS: Natales -> Calafate
        const busPath = [
            { lat: -51.7267, lng: -72.5068 },
            { lat: -50.3379, lng: -72.2648 }
        ];
        new google.maps.Polyline({
            path: busPath,
            geodesic: true,
            strokeColor: "#34495e", // Dark Blue/Grey for Road
            strokeOpacity: 0.8,
            strokeWeight: 4,
            map: map
        });

        // 5. DRIVE: Calafate <-> Chalten
        const drivePath = [
            { lat: -50.3379, lng: -72.2648 },
            { lat: -49.3305, lng: -72.8817 }
        ];
        new google.maps.Polyline({
            path: drivePath,
            geodesic: true,
            strokeColor: "#34495e",
            strokeWeight: 4,
            map: map
        });

        // 6. FLIGHT: Calafate -> Buenos Aires
        const flightArg = [
            { lat: -50.3379, lng: -72.2648 },
            { lat: -34.6037, lng: -58.3816 }
        ];
        new google.maps.Polyline({
            path: flightArg,
            geodesic: true,
            strokeColor: "#3498db", // Blue for Argentina Flight
            strokeOpacity: 0.8,
            strokeWeight: 2,
            icons: [{ icon: { path: 'M 0,-1 0,1', strokeOpacity: 1, scale: 2 }, offset: '0', repeat: '20px' }],
            map: map
        });

        // 7. FLIGHT: BA -> Chicago
        const flightHome = [
            { lat: -34.6037, lng: -58.3816 },
            { lat: 41.9742, lng: -87.9073 }
        ];
        new google.maps.Polyline({
            path: flightHome,
            geodesic: true,
            strokeColor: "#3498db",
            strokeOpacity: 0.5,
            strokeWeight: 2,
            icons: [{ icon: { path: 'M 0,-1 0,1', strokeOpacity: 1, scale: 2 }, offset: '0', repeat: '20px' }],
            map: map
        });
    }
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBBoC7oF2OJAhD6zReYhykQzlarc7xOJVY&callback=initMap&v=weekly" async defer></script>

</body>
</html>